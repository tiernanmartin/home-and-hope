[
["index.html", "", " This document is a work in progress Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce sagittis auctor enim. Quisque eros odio, convallis vel diam eu, vehicula gravida neque. Duis sapien ligula, laoreet a sollicitudin a, imperdiet vel est. Fusce tellus ex, mattis sit amet pretium vitae, fringilla a nulla. Vivamus hendrerit erat dignissim cursus sodales. Maecenas facilisis sem malesuada quam blandit, id imperdiet ante fermentum. Proin maximus eros mi, vitae pharetra nisl ultrices non. Nulla varius interdum neque nec aliquam. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec fermentum lacinia malesuada. Aliquam hendrerit sagittis nisi, quis convallis risus cursus sit amet. Sed sodales aliquet ante, sed tempor ipsum laoreet et. Cras dictum sollicitudin augue, at tempus eros. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aliquam vitae sapien vitae ligula aliquet feugiat ut nec libero. Sed iaculis diam ac lacinia porttitor. Duis at finibus nisl. Nulla imperdiet nisi at mauris consequat fringilla. Vestibulum vehicula tellus sed tellus semper pretium. Nam egestas laoreet neque, ac tristique libero mattis et. Nulla sollicitudin ligula id suscipit dignissim. Morbi metus magna, sagittis vitae diam quis, posuere euismod arcu. Sed sagittis lobortis suscipit. Quisque sit amet sodales sem. Nunc ultricies augue sapien, non dictum metus pharetra at. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Integer sit amet ultricies orci, at feugiat ipsum. Ut sagittis eget mi ut sagittis. Nullam ullamcorper augue rhoncus lorem vehicula viverra. Quisque eget lacus nec nisl volutpat faucibus. Curabitur velit sapien, eleifend ut accumsan a, vestibulum et lorem. Nullam vulputate turpis quis nunc lacinia, vitae finibus diam bibendum. Ut quis iaculis nulla. Pellentesque tincidunt accumsan convallis. Duis vel tempus elit. Pellentesque nisl risus, tempus vitae efficitur eget, pharetra sit amet mi. Maecenas eu metus lacus. Curabitur blandit ultrices urna nec faucibus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam interdum, elit malesuada gravida vehicula, urna ligula varius ipsum, sit amet tempor leo velit vel odio. Sed tincidunt mollis magna ullamcorper consequat. "],
["A-data-methods.html", "A Data Methods ", " A Data Methods "],
["A-1-king-county-lookup-lists.html", "A.1 King County Lookup Lists", " A.1 King County Lookup Lists Introduction A set of named lists that allow King County’s various codifications to be converted into clearer text. For example, the following abbreviations are used to indicate the tax status of a parcel: ABBREVIATION CATEGORY T Taxable X Exempt O Operating Most lookup codes are contained in the metadata that Kign County provides for each dataset. They are usually presented in the following format: T = Taxable; X = Exempt; O = Operating The following function is used to parse a string formatted this way: parse_lookup_string &lt;- function(string, col_sep, row_sep){ str_split(string, pattern = row_sep) %&gt;% flatten() %&gt;% keep(~ str_detect(.x,&quot;&quot;)) %&gt;% str_replace_all(&quot;\\\\\\n&quot;,&quot;&quot;) %&gt;% map_chr(c) %&gt;% map_df(~.x %&gt;% str_split(pattern = col_sep) %&gt;% as.data.frame %&gt;% t %&gt;% as_data_frame ) %&gt;% set_rownames(NULL) %&gt;% mutate_all(as.character) %&gt;% pmap(~ set_names(..2, ..1)) %&gt;% unlist() } string &lt;- &quot; T = Taxable; X = Exempt; O = Operating &quot; tax_reason_named_list &lt;- parse_lookup_string(string, col_sep = &quot;\\\\s=\\\\s&quot;,row_sep = &quot;;\\\\s&quot;) The named list objects created in this section are used to de-code the various codification schemes used in the King County data. A code value is passed to the named list and the corresponding category or description is returned: # Option 1 code_value &lt;- &quot;X&quot; tax_reason_named_list[code_value] X &quot;Exempt&quot; # Option 2 tax_reason_named_list[&quot;O&quot;] O &quot;Operating&quot; A.1.1 King County Jurisdictions Description Jurisdiction planning to annex this area. Links Source Processing Steps Summary Create string: The contents of the JURISDICTION table copy-and-pasted in the R environment. Create juris: A named vector of the jurisdictions and their abbreviations. Upload to Drive Step 1 string &lt;- &quot;NULL NULL AL Algona AU Auburn BD Black Diamond BE Bellevue BO Bothell BU Burien CA Carnation CH Clyde Hill CO Covington DM Des Moines DU Duvall EN Enumclaw FW Federal Way HP Hunts Point IS Issaquah KE Kent KI Kirkland KM Kenmore LF Lake Forest Park ME Medina MI Mercer Island MT Milton MV Maple Valley NB North Bend NC Newcastle NP Normandy Park PA Pacific RM Redmond RN Renton SE Seattle SH Shoreline SK Skykomish SM Sammamish SN Snoqualmie ST SeaTac TU Tukwila WO Woodinville YP Yarrow Point&quot; Step 2 juris &lt;- string %&gt;% parse_lookup_string(col_sep = &quot;\\t&quot;,row_sep =&quot;\\n&quot; ) data.frame(DESCRIPTION = juris) %&gt;% kable(format = &quot;html&quot;) DESCRIPTION NULL NULL AL Algona AU Auburn BD Black Diamond BE Bellevue BO Bothell BU Burien CA Carnation CH Clyde Hill CO Covington DM Des Moines DU Duvall EN Enumclaw FW Federal Way HP Hunts Point IS Issaquah KE Kent KI Kirkland KM Kenmore LF Lake Forest Park ME Medina MI Mercer Island MT Milton MV Maple Valley NB North Bend NC Newcastle NP Normandy Park PA Pacific RM Redmond RN Renton SE Seattle SH Shoreline SK Skykomish SM Sammamish SN Snoqualmie ST SeaTac TU Tukwila WO Woodinville YP Yarrow Point Step 3 folder &lt;- as_id(&quot;0B5Pp4V6eCkhrZ3NHOEE0Sl9FbWc&quot;) tmp &lt;- tempfile() write_rds(juris,tmp) drive_upload(tmp, folder,name = &quot;kc-jurisdictions.rds&quot;) A.1.2 King County Tax Value Reasons Description The reason for a difference between appraised and taxable values. Links Source Data Processing Steps Summary Create string: The contents of the Real Property Account metadata table pasted into the R environment. Step 1 string &lt;- &quot; FS = senior citizen exemption EX = exempt OP = operating NP = non profit exemption CU = open space exemption HI = home improvement exemption HP = historic property exemption MX = more than one reason applies &quot; Step 2 tax_reason &lt;- string %&gt;% parse_lookup_string(col_sep = &quot;\\\\s=\\\\s&quot;, row_sep = &quot;\\n&quot;) data.frame(DESCRIPTION = tax_reason) %&gt;% kable(format = &quot;html&quot;) DESCRIPTION FS senior citizen exemption EX exempt OP operating NP non profit exemption CU open space exemption HI home improvement exemption HP historic property exemption MX more than one reason applies Step 3 folder &lt;- as_id(&quot;0B5Pp4V6eCkhrZ3NHOEE0Sl9FbWc&quot;) tmp &lt;- tempfile() write_rds(tax_reason,tmp) drive_upload(tmp, folder,name = &quot;kc-tax-reason.rds&quot;) A.1.3 King County Tax Status Description The status of the parcel’s taxation. The categories are: Taxable,Exempt, or Operating. Links Source Data Processing Steps Summary Create string: The contents of the Real Property Account metadata table pasted into the R environment. Create tax_reason: Pass string to the parse_lookup_string() function. Upload tax_reason to Google Drive. Step 1 string &lt;- &quot; T = Taxable; X = Exempt; O = Operating &quot; Step 2 tax_status &lt;- string %&gt;% parse_lookup_string(col_sep = &quot;\\\\s=\\\\s&quot;, row_sep = &quot;;\\\\s&quot;) data.frame(DESCRIPTION = tax_status) %&gt;% kable(format = &quot;html&quot;) DESCRIPTION T Taxable X Exempt O Operating Step 3 folder &lt;- as_id(&quot;0B5Pp4V6eCkhrZ3NHOEE0Sl9FbWc&quot;) tmp &lt;- tempfile() write_rds(tax_status,tmp) drive_upload(tmp, folder,name = &quot;kc-tax-status.rds&quot;,) "],
["A-2-untaxed-king-county-parcels.html", "A.2 Untaxed King County Parcels", " A.2 Untaxed King County Parcels Description A dataset of parcels within King County, Washington. Each record in this datatset is not currently paying taxes - a status which may make them a suitable candidate for the development of affordable housing and early learning facilities. This data reflects the King County Assessor records as of October 13, 2017. Summary Links Sources King County Assessor Data Download King County GIS Portal Datasets Parcel (tabular) Parcel (spatial) Real Property Account Metadata Parcel (tabular) Parcel (spatial) Real Property Account Processing Steps Summary Create p: a tibble containing parcel data. Create acct: a tibble containing real property account data. Create p_sf: a simple feature object containing the spatial polygon representations of each parcel in the dataset. Clean/process the three dataset: prepare the datasets to be joined and filtered. Load tax_status and tax_reason for transforming coded features into descriptive text. Create tax_0_sf: Join and filter the datasets. Join with inner_join() to ensure that only records common to all three datasets are retained (note: this action may implicitly filter the data) Filter by excluding records whose TAX_STATUS is Taxable. Upload to Drive Step 1 p_fp &lt;- root_file(&quot;./1-data/2-external/EXTR_Parcel_20171013.csv&quot;) p_load &lt;- make_or_read(p_fp, { zip_dir &lt;- root_file(&quot;./1-data/2-external&quot;) target_name &lt;- &quot;EXTR_Parcel_20171013.csv&quot; dr_id &lt;- as_id(&quot;0B5Pp4V6eCkhraF9jOTl3bURiMkU&quot;) drive_read_zip( dr_id = dr_id, .tempdir = FALSE, dir_path = zip_dir, read_fun = read_csv, target_name = target_name ) }, { read_csv(p_fp) }) p &lt;- p_load %&gt;% rename_all(to_screaming_snake_case) rm(p_load) gc(verbose = FALSE) Step 2 acct_fp &lt;- root_file(&quot;./1-data/2-external/EXTR_RPAcctl_20171013.csv&quot;) acct_load &lt;- make_or_read(acct_fp, { dr_id &lt;- &quot;0B5Pp4V6eCkhreGt2djZCTnFUeFU&quot; zip_dir &lt;- root_file(&quot;./1-data/2-external&quot;) target_name &lt;- &quot;EXTR_RPAcctl_20171013.csv&quot; drive_read_zip(dr_id = dr_id, .tempdir = FALSE, dir_path = zip_dir, read_fun = read_csv, target_name = target_name) }, {read_csv(acct_fp)}) rm(acct_load) gc(verbose = FALSE) Step 3 p_sf_fp &lt;- root_file(&quot;./1-data/2-external/parcel&quot;) p_sf_load &lt;- make_or_read(p_sf_fp, { dr_id &lt;- &quot;0B5Pp4V6eCkhrRnM4bHFmWTBTQnM&quot; zip_dir &lt;- root_file(&quot;./1-data/2-external&quot;) target_name &lt;- &quot;parcel&quot; drive_read_zip(dr_id = dr_id, dir_path = zip_dir, read_fun = st_read, target_name = target_name, .tempdir = FALSE, layer = &quot;parcel&quot;, stringsAsFactors = FALSE) }, {st_read(p_sf_fp, layer = &quot;parcel&quot;, stringsAsFactors = FALSE)}) p_sf &lt;- p_sf_load %&gt;% rename_if(not_sfc, to_screaming_snake_case) rm(p_sf_load) gc(verbose = FALSE) Step 4 tr_fp &lt;- root_file(&quot;./1-data/3-interim/kc-tax-reason.rds&quot;) tax_reason &lt;- make_or_read(tr_fp, { dr_id &lt;- as_id(&quot;0B5Pp4V6eCkhrQzdjY0hKVUhOR3M&quot;) drive_read(dr_id = dr_id, .tempfile = FALSE, path = tr_fp, read_fun = read_rds) }, {read_rds(tr_fp)}) ts_fp &lt;- root_file(&quot;./1-data/3-interim/kc-tax-status.rds&quot;) tax_status &lt;- make_or_read(ts_fp, { dr_id &lt;- as_id(&quot;0B5Pp4V6eCkhrWFlYLWM3RC1pRDA&quot;) drive_read(dr_id = dr_id, .tempfile = FALSE, path = ts_fp, read_fun = read_rds) }, {read_rds(ts_fp)}) p_ready &lt;- p %&gt;% mutate(PIN = str_c(MAJOR, MINOR)) %&gt;% select(PIN, PROP_NAME, PROP_TYPE, DISTRICT_NAME, CURRENT_ZONING, PRESENT_USE, SQ_FT_LOT, ACCESS, TOPOGRAPHY, PCNT_UNUSABLE, CONTAMINATION, HISTORIC_SITE, EASEMENTS, SEISMIC_HAZARD, LANDSLIDE_HAZARD, STEEP_SLOPE_HAZARD ) acct_frmt &lt;- acct %&gt;% mutate(PIN = str_c(MAJOR,MINOR), TAX_STATUS = tax_status[TAX_STAT], TAX_REASON = tax_reason[TAX_VAL_REASON]) %&gt;% select(PIN, ACCT_NBR, BILL_YR, TAX_STATUS, TAX_REASON, APPR_LAND_VAL, APPR_IMPS_VAL, TAXABLE_LAND_VAL, TAXABLE_IMPS_VAL) acct_ready &lt;- acct_frmt %&gt;% miscgis::subset_duplicated(&quot;PIN&quot;) %&gt;% group_by(PIN) %&gt;% drop_na %&gt;% ungroup %&gt;% bind_rows(subset_duplicated(acct_frmt,&quot;PIN&quot;,notin = TRUE)) %&gt;% arrange(PIN) p_sf_ready &lt;- select(p_sf, PIN) Step 5 tax_0_sf &lt;- list(acct_ready,p_ready,p_sf_ready) %&gt;% reduce(.f = inner_join, by = &quot;PIN&quot;) %&gt;% # Filter: inner_join() filter(TAX_STATUS %!in% &quot;Taxable&quot;) %&gt;% # Filter: TAX_STATUS %!in% &quot;Taxable&quot; st_as_sf() Step 6 tax_0_fp &lt;- &quot;./1-data/3-interim/tax_0_sf_20171013.gpkg&quot; st_write(tax_0_sf,dsn = tax_0_fp, driver = &quot;GPKG&quot;) drive_folder &lt;- as_id(&quot;0B5Pp4V6eCkhrZ3NHOEE0Sl9FbWc&quot;) drive_upload(tax_0_fp, path = drive_folder) "],
["A-3-resources.html", "A.3 Resources", " A.3 Resources This is a work in progress document - changes will be made. "]
]
